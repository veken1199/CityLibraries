from flask import Flask,send_from_directory
from flask_cors import CORS
from request_manager import RequestsManager
import json

app = Flask(__name__)
app = Flask(__name__, static_url_path='')
CORS(app)

@app.route('/js/<path:path>')
def serve_js_files(path):
    return send_from_directory('dust', path)

@app.route('/')
def root():
    return app.send_static_file('index.html')

@app.route('/query/<query>', methods=['GET', 'OPTIONS'])
def find_book(query):
    request_manager = RequestsManager()
    return json.dumps([{"uni": "concordia", "data": [{"author": "Jordanus, Catalani, Bishop of Columbum, active 1302-1330.", "title": "A Differential Approach to  Behavior Detection."}, {"author": "Silver, Michelle Pannor, author.", "title": "Jordanus of Severac [electronic resource]"}, {"author": "Jeansoulin, Robert, author.", "title": "Gender and public relations"}, {"author": "Grotenhuis, Ren\u00e9, author.", "title": "Retirement and its discontents"}, {"author": "Vries, Herman de, 1931-", "title": "Yields of Bronchoscopy and Bronchoalveolar Lavage in Diagnosis of  Persistent Wheezy Chest Among Children."}, {"author": "Kojadinovi\u0107, Miodrag, 1961- author.", "title": "JavaScript and open data"}, {"author": "Lee, Christopher J.", "title": "The  Remains Unprotected: Tensions Between Conscience and the Taw in Germany by Way of Joseph Isensee."}, {"author": "Humphrey, Daniel.", "title": "Nation-building as necessary effort in fragile states"}, {"author": "Rich, Barnett, 1906-", "title": "Herman de Vries"}, {"author": "Moyer, Robert E.", "title": "\u00c9rotiques supr\u00e8mes"}, {"author": "Deca, Rudy.", "title": "Unreasonable histories"}, {"author": "", "title": "Queer Bergman"}, {"author": "", "title": "Geometry [electronic resource]"}, {"author": "", "title": "Trigonometry [electronic resource]"}, {"author": "", "title": "Optimizing Estimation of a Statistically  System."}, {"author": "", "title": "Meta-CLI configuration model for network device management"}, {"author": "", "title": ""}, {"author": "", "title": ""}, {"author": "", "title": ""}, {"author": "", "title": ""}, {"author": "", "title": ""}, {"author": "", "title": ""}, {"author": "Anan'ev, B.", "title": ""}, {"author": "", "title": ""}, {"author": "", "title": ""}, {"author": "", "title": ""}]}, {"uni": "udm", "data": [{"date": "2007", "author": "Durrschmidt, Jorg, 1960-", "title": "Globalization, modernity and social change : hotspots of transition /"}, {"date": "2014", "author": "Laidlaw, James.", "title": "subject of virtue : an anthropology of ethics and freedom /"}, {"date": "2018", "author": "Silver, Michelle Pannor auteur,,,,,,,,,", "title": "Retirement and its discontents : why we won't stop working, even if we can /"}, {"date": "1989", "author": "Kluback, William.", "title": "Undefined familiarities /"}, {"date": "2013", "author": "Shan, Chung-chieh.", "title": "Programming Languages and Systems : 11th Asian Symposium, APLAS 2013, Melbourne, VIC, Australia, December 9-11, 2013. Proceedings /"}, {"date": "2018", "author": "Furia, Carlo A. \u00e9diteur intellectuel.", "title": "Integrated Formal Methods 14th International Conference, IFM 2018, Maynooth, Ireland, September 5-7, 2018, Proceedings /"}, {"date": "2015", "author": "Sherbin, Al, 1956-", "title": "How to price and trade options : identify, analyze, and execute the best trade probabilities /"}, {"date": "2018", "author": "Jeansoulin, Robert, author.", "title": "JavaScript and open data /"}, {"date": "2016", "author": "Reber, Bernard.", "title": "Precautionary Principle, Pluralism and Deliberation : Science and Ethics /"}, {"date": "2016", "author": "Bowie, Bob.", "title": "Dignity and Human Rights Education : Exploring Ultimate Worth in a Post-Secular World."}, {"date": "2011", "author": "Constanda, C. (Christian)", "title": "Integral Methods in Science and Engineering : Computational and Analytic Aspects /"}, {"date": "2017", "author": "Pfander, James E., author.", "title": "Constitutional torts and the War on Terror /"}, {"date": "2017", "author": "Forum international des transports.", "title": "Economic Benefits of Improved Accessibility to Transport Systems /"}, {"date": "2014", "author": "Faubion, James D., 1957-", "title": "Foucault now : current perspectives in Foucault studies /"}, {"date": "2016", "author": "Griffith, Bryant. author.", "title": "NextGeners Pedagogical Considerations /"}, {"date": "2013", "author": "Eliasoph, Nina", "title": "Making volunteers : civic life after welfare's end /"}, {"date": "2014", "author": "Brittany, Michele, 1965- \u00e9diteur intellectuel", "title": "James Bond and popular culture : essays on the influence of the fictional superspy /"}, {"date": "2014", "author": "B\u00eaka, Ila, 1967-", "title": "25 bis ; L'exp\u00e9rience du vide /"}, {"date": "2018", "author": "Clandinin, D. Jean, auteur.", "title": "Relational Ethics of Narrative Inquiry /"}, {"date": "2019", "author": "Talen, Emily, 1958- auteur.", "title": "Neighborhood /"}, {"date": "2007", "author": "Jordanus, Catalani, Bishop of Columbum, fl. 1302-1330.", "title": "Jordanus of Severac"}, {"date": "2011", "author": "Mallgrave, Harry Francis.", "title": "Introduction to architectural theory : 1968 to the present /"}, {"date": "2011", "author": "SPICE 2011 (2011 : Dublin, Ireland)", "title": "Software process improvement and capability determination 11th International Conference, SPICE 2011, Dublin, Ireland, May 30 - June 1, 2011, Proceedings /"}, {"date": "2013", "author": "Wong, Lee-Jun C.", "title": "Next Generation Sequencing : Translation to Clinical Diagnostics /"}, {"date": "2013", "author": "Fujimoto, Minoru.", "title": "Thermodynamics of Crystalline States /"}, {"date": "2016", "author": "Imbesi, Lorenzo", "title": "Design for social innovation in Canada /"}, {"date": "2016", "author": "O'Regan, Gerard. author.", "title": "Guide to Discrete Mathematics An Accessible Introduction to the History, Theory, Logic and Applications /"}, {"date": "2017", "author": "O'Regan, Gerard. author.", "title": "Concise Guide to Formal Methods Theory, Fundamentals and Industry Applications /"}, {"date": "2016", "author": "Rydin, Yvonne, 1957-", "title": "Actor networks of planning : exploring the influence of Actor Network Theory /"}, {"date": "2018", "author": "Eigen, Michael, auteur.", "title": "Eigen in Seoul /"}, {"date": "2011", "author": "Duval, Nancy, auteur.", "title": "r\u00f4le de la T\u00e9l\u00e9machie dans l\u2019Odyss\u00e9e d\u2019Hom\u00e8re /"}, {"date": "2010", "author": "Plourde, David, auteur.", "title": "Je qui devient Nous et Nous qui devient Je : sens unitaire de la culture chez Hegel /"}, {"date": "2005", "author": "Khleif, Samir N.", "title": "Tumor immunology and cancer vaccines"}, {"date": "2012", "author": "Zhang, Runtong.", "title": "Enterprise Information Systems : 13th International Conference, ICEIS 2011, Beijing, China, June 8-11, 2011, Revised Selected Papers /"}, {"date": "2013", "author": "Pehlivanian, Ara.", "title": "Jump start Javascript /"}, {"date": "2012", "author": "Arabaghian, Anouche, auteur.", "title": "identit\u00e9 europ\u00e9enne : un d\u00e9veloppement progressif par la citoyennet\u00e9 et la Charte des droits fondamentaux de l'Union europ\u00e9enne /"}, {"date": "2008", "author": "Proulx, Cindy, auteur.", "title": "implication du Stromal Cell-derived Factor-1 alpha dans le remodelage cardiaque une semaine apr\u00e8s un infarctus du myocarde /"}, {"date": "2010", "author": "Alvarez Orellana, Jennifer \u00c9lisabeth, auteur.", "title": "Charge virale int\u00e9gr\u00e9e du papillomavirus de type 16 dans la maladie anale pr\u00e9invasive /"}, {"date": "2014", "author": "Gauthier, Julie M., auteur.", "title": "Cadre juridique de l'utilisation de la biom\u00e9trie au Qu\u00e9bec : s\u00e9curit\u00e9 et vie priv\u00e9e /"}, {"date": "2016", "author": "Siddique, Asiyah, auteur.", "title": "Correlates of Long-term Immune Protection in Hepatitis C Virus (HCV) Exposed Non-reinfected Individuals /"}]}, {"uni": "uqam", "data": [{"author": "E.S. Gilfillan ; Gilfillan, E.S.", "publisher": "Ottawa National Library of Canada 1971 ", "title": "The effects of changes in temperature, salinity and undefined properties of sea water on the respiration of euphausia pacifica hansen (crustacea) in relation to the species-ecology (microfilm)"}, {"author": "Anan\u2019ev, B.", "publisher": "", "title": "Optimizing Estimation of a Statistically Undefined System"}, {"author": "Erica Rothlind ; Uno Fors ; Helena Salminen ; Per W\u00e4ndell ; Solvig Ekblad", "publisher": "", "title": "Circling the undefined-A grounded theory study of intercultural consultations in Swedish primary care"}, {"author": "Muhammed, Musemma K. ; Olsen, Mette L. ; Kot, Witold ; Neve, Horst ; Castro-Mej\u00eda, Josu\u00e9 L. ; Janzen, Thomas ; Hansen, Lars H. ; Nielsen, Dennis S. ; S\u00f8rensen, S\u00f8ren J. ; Heller, Knut J. ; Vogensen, Finn K.", "publisher": "", "title": "Investigation of the bacteriophage community in induced lysates of undefined mesophilic mixed-strain DL-cultures using classical and metagenomic approaches"}, {"author": "Michelle Pannor, auteur. Silver", "publisher": "New York : Columbia University Press, [2018]  ", "title": "Retirement and its discontents [ressource \u00e9lectronique] : why we won't stop working, even if we can"}, {"author": "Karl Erik W\u00e4rneryd 1927- \u00e9diteur intellectuel.", "publisher": "Cambridge, Massachusetts : MIT Press, [2014], \u00a92014 ", "title": "The economics of conflict [ressource \u00e9lectronique] : theory and empirical evidence"}, {"author": "Carl Abrahamsson 1966- r\u00e9alisateur, sc\u00e9nariste, producteur, narrateur.; Gustaf Broms 1966- participant \u00e0 l'\u00e9cran.; Trapart Film (Firme) soci\u00e9t\u00e9 de production.; Njutafilms distributeur de films.", "publisher": "[Stockholm, Su\u00e8de] : Njutafilms, [2016], \u00a92016 ", "title": "The mystery of life : an art apart : Gustaf Broms = an art apart : Gustaf Broms"}, {"author": "Myra S., auteur. Washington", "publisher": "Jackson : University Press of Mississippi, 2017. ", "title": "Blasian invasion [ressource \u00e9lectronique] : racial mixing in the celebrity industrial complex"}, {"author": "Wang, Xi ; Zeldovich, Nickolai ; Kaashoek, M ; Solar-Lezama, Armando", "publisher": "", "title": "A differential approach to undefined behavior detection"}, {"author": "Regehr, John", "publisher": "", "title": "Technical Perspective: STACKing up undefined behaviors"}, {"author": "Abadi, Amin Talebi Bezmin", "publisher": "", "title": "Obesity and Helicobacter pylori: An undefined association"}, {"author": "Daniel Russell", "publisher": "", "title": "Gravitational Wave Speed: Undefined. Experiments Proposed"}, {"author": "Marques, Marco ; Terroso, Miguel ; Freitas, Ricardo ; Marques, Ant\u00f3nio Torres ; Gabriel, Joaquim ; Simoes, Ricardo", "publisher": "", "title": "A procedure for a mechanical evaluation of an undefined osteo-protective material"}, {"author": "Parente, Eugenio ; Guidone, Angela ; Matera, Attilio ; De Filippis, Francesca ; Mauriello, Gianluigi ; Ricciardi, Annamaria", "publisher": "", "title": "Microbial community dynamics in thermophilic undefined milk starter cultures"}, {"author": "Aguilar-Cisneros Humberto ; Uribe-Vargas Ver\u00f3nica ; Carre\u00f3n-Calder\u00f3n Bernardo ; Dom\u00ednguez-Esquivel Jos\u00e9 Manuel ; Ramirez-de-Santiago Mario", "publisher": "", "title": "Hydrogen Solubility in Heavy Undefined Petroleum Fractions Using Group Contributions Methods"}, {"author": "Wyse, Adam E. ; Babcock, Ben", "publisher": "", "title": "An Investigation of Undefined Cut Scores With the Hofstee Standard\u2010Setting Method"}, {"author": "Hong, Nian ; Hama, Takehide ; Suenaga, Yuichi ; Aqili, Sayed Waliullah ; Huang, Xiaowu ; Wei, Qiaoyan ; Kawagoshi, Yasunori", "publisher": "", "title": "Application of a modified conceptual rainfall\u2013runoff model to simulation of groundwater level in an undefined watershed"}, {"author": "Liang, Shaobo ; Wan, Caixia", "publisher": "", "title": "Carboxylic acid production from brewer\u2019s spent grain via mixed culture fermentation"}, {"author": "Nunes, Luiza ; Barros Correa, Fabiane ; Oliva Neto, Pedro ; Mayer, Cassia ; Escaramboni, Bruna ; Campioni, Tania ; Barros, Natan ; Herculano, Rondinelli ; Fern\u00e1ndez N\u00fa\u00f1ez, Eutimio", "publisher": "", "title": "Lactic acid production from submerged fermentation of broken rice using undefined mixed culture"}, {"author": "Bove, Dorthe Gaby ; Zakrisson, Ann\u2010Britt ; Midtgaard, Julie ; Lomborg, Kirsten ; Overgaard, Dorthe", "publisher": "", "title": "Undefined and unpredictable responsibility: a focus group study of\u00a0the experiences of informal caregiver spouses of patients with severe COPD"}, {"author": "Ngoma, L. ; Masilela, P. ; Obazu, F. ; Gray, V.M.", "publisher": "", "title": "The effect of temperature and effluent recycle rate on hydrogen production by undefined bacterial granules"}, {"author": "Reynolds, Barry Lee ; Wible, David", "publisher": "", "title": "Frequency in Incidental Vocabulary Acquisition Research: An Undefined Concept and Some Consequences"}, {"author": "Hanson, Andrea J. ; Paszczynski, Andrzej J. ; Coats, Erik R.", "publisher": "", "title": "Proteomic profiling of an undefined microbial consortium cultured in fermented dairy manure: Methods development"}, {"author": "Villano, Marianna ; Paiano, Paola ; Palma, Enza ; Miccheli, Alfredo ; Majone, Mauro", "publisher": "", "title": "Electrochemically Driven Fermentation of Organic Substrates with Undefined Mixed Microbial Cultures"}, {"author": "Kreiss, Deborah S. ; De Deurwaerd\u00e8re, Philippe", "publisher": "", "title": "Purposeless oral activity induced by meta-chlorophenylpiperazine (m-CPP): Undefined tic-like behaviors?"}, {"author": "Richter, Craig G. ; Thompson, William H. ; Bosman, Conrado A. ; Fries, Pascal", "publisher": "", "title": "A jackknife approach to quantifying single-trial correlation between covariance-based metrics undefined on a single-trial basis"}, {"author": "Gatti, Monica ; Bottari, Benedetta ; Lazzi, Camilla ; Neviani, Erasmo ; Mucchetti, Germano", "publisher": "", "title": "Invited review: Microbial evolution in raw-milk, long-ripened cheeses produced using undefined natural whey starters"}, {"author": "Lin, Ling-Yi ; Cherng, Rong-Ju", "publisher": "Taylor & Francis", "title": "Outcomes of utilizing early intervention services on the motor development of children with undefined developmental delay"}, {"author": "Han, Qian ; Luo, Qun ; Chen, Xiaobo ; Xie, Jiaxing ; Wu, Lulu ; Chen, Rongchang", "publisher": "", "title": "The evaluation of clinical usefulness of transbrochoscopic lung biopsy in undefined interstitial lung diseases: a retrospective study"}, {"author": "Vanegas, Javier ; Uribe-V\u00e9lez, Daniel", "publisher": "", "title": "Selection of mixed inoculants exhibiting growth-promoting activity in rice plants from undefined consortia obtained by continuous enrichment"}, {"author": "Montoya, Jos\u00e9 M. ; Donohue, Ian ; Pimm, Stuart L.", "publisher": "", "title": "Why a Planetary Boundary, If It Is Not Planetary, and the Boundary Is Undefined? A Reply to Rockstr\u00f6m et al."}, {"author": "Frantzen, Cyril A ; Kleppen, Hans Petter ; Holo, Helge", "publisher": "", "title": "Lactococcus lactis Diversity in Undefined Mixed Dairy Starter Cultures as Revealed by Comparative Genome Analyses and Targeted Amplicon Sequencing of"}, {"author": "Obazu, F.O. ; Ngoma, L. ; Gray, V.M.", "publisher": "", "title": "Interrelationships between bioreactor volume, effluent recycle rate, temperature, pH, %H2, hydrogen productivity and hydrogen yield with undefined bacterial cultures"}, {"author": "Wang, Xi ; Zeldovich, Nickolai ; Kaashoek, M. Frans ; Solar-Lezama, Armando", "publisher": "", "title": "A Differential Approach to Undefined Behavior Detection"}, {"author": "Lee, Juneyoung ; Kim, Yoonseung ; Song, Youngju ; Hur, Chung-Kil ; Das, Sanjoy ; Majnemer, David ; Regehr, John ; Lopes, Nuno P", "publisher": "", "title": "Taming undefined behavior in LLVM"}, {"author": "Yagi - Utsumi, Maho ; Sikdar, Arunima ; Kozai, Toshiya ; Inoue, Rintaro ; Sugiyama, Masaaki ; Uchihashi, Takayuki ; Yagi, Hirokazu ; Satoh, Tadashi ; Kato, Koichi", "publisher": "", "title": "Conversion of functionally undefined homopentameric protein PbaA into a proteasome activator by mutational modification of its C-terminal segment conformation"}, {"author": "Frantzen, Cyril A ; Kot, Witold ; Pedersen, Thomas B ; Ard\u00f6, Ylva M ; Broadbent, Jeff R ; Neve, Horst ; Hansen, Lars H ; Dal Bello, Fabio ; \u00d8stlie, Hilde M ; Kleppen, Hans P ; Vogensen, Finn K ; Holo, Helge", "publisher": "", "title": "Genomic Characterization of Dairy Associated Species and Diversity of Leuconostocs in Undefined Mixed Mesophilic Starter Cultures"}, {"author": "Nikiphorou, Elena ; Neocleous, Vassos ; Phylactou, Leonidas A ; Psarelis, Savvas", "publisher": "", "title": "013.\u2003SUCCESSFUL USE OF TOCILIZUMAB IN TWO CASES OF SEVERE UNDEFINED AUTOINFLAMMATORY DISEASE WITH A SINGLE COPY OF THE MEDITERRANEAN FEVER GENE"}, {"author": "Cook, T. M", "publisher": "", "title": "Third generation supraglottic airway devices: an undefined concept and misused term. Time for an updated classification of supraglottic airway devices"}, {"author": "", "publisher": "", "title": "An Undefined Path"}]}])
    return json.dumps(request_manager.init_thread_pool(query))

@app.route('/log')
def log():
    return 'log'

if __name__ == '__main__':
    app.run(port=8082, debug=True)


